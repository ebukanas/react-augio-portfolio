{"ast":null,"code":"import copy from 'fast-copy';\nimport qs from 'qs';\nimport isString from 'lodash.isstring';\nimport pThrottle from 'p-throttle';\nimport isPlainObject from 'lodash.isplainobject';\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _wrapRegExp() {\n  _wrapRegExp = function (re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n  var _super = RegExp.prototype,\n    _groups = new WeakMap();\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n    return _groups.set(_this, groups || _groups.get(re)), _setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n    return Object.keys(g).reduce(function (groups, name) {\n      var i = g[name];\n      if (\"number\" == typeof i) groups[name] = result[i];else {\n        for (var k = 0; void 0 === result[i[k]] && k + 1 < i.length;) k++;\n        groups[name] = result[i[k]];\n      }\n      return groups;\n    }, Object.create(null));\n  }\n  return _inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n    if (result) {\n      result.groups = buildGroups(result, this);\n      var indices = result.indices;\n      indices && (indices.groups = buildGroups(indices, this));\n    }\n    return result;\n  }, BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        var group = groups[name];\n        return \"$\" + (Array.isArray(group) ? group.join(\"$\") : group);\n      }));\n    }\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != typeof args[args.length - 1] && (args = [].slice.call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n    return _super[Symbol.replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction isNode() {\n  /**\n   * Polyfills of 'process' might set process.browser === true\n   *\n   * See:\n   * https://github.com/webpack/node-libs-browser/blob/master/mock/process.js#L8\n   * https://github.com/defunctzombie/node-process/blob/master/browser.js#L156\n   **/\n  return typeof process !== 'undefined' && !process.browser;\n}\nfunction isReactNative() {\n  return typeof window !== 'undefined' && 'navigator' in window && 'product' in window.navigator && window.navigator.product === 'ReactNative';\n}\nfunction getNodeVersion() {\n  return process.versions && process.versions.node ? \"v\".concat(process.versions.node) : process.version;\n}\nfunction getWindow() {\n  return window;\n}\nfunction noop() {\n  return undefined;\n}\nvar PERCENTAGE_REGEX = /*#__PURE__*/_wrapRegExp(/(\\d+)(%)/, {\n  value: 1\n});\nfunction calculateLimit(type) {\n  var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;\n  var limit = max;\n  if (PERCENTAGE_REGEX.test(type)) {\n    var _type$match;\n    var groups = (_type$match = type.match(PERCENTAGE_REGEX)) === null || _type$match === void 0 ? void 0 : _type$match.groups;\n    if (groups && groups.value) {\n      var percentage = parseInt(groups.value) / 100;\n      limit = Math.round(max * percentage);\n    }\n  }\n  return Math.min(30, Math.max(1, limit));\n}\nfunction createThrottle(limit, logger) {\n  logger('info', \"Throttle request to \".concat(limit, \"/s\"));\n  return pThrottle({\n    limit: limit,\n    interval: 1000,\n    strict: false\n  });\n}\nvar rateLimitThrottle = function (axiosInstance) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n  var _axiosInstance$defaul = axiosInstance.defaults.logHandler,\n    logHandler = _axiosInstance$defaul === void 0 ? noop : _axiosInstance$defaul;\n  var limit = isString(type) ? calculateLimit(type) : calculateLimit('auto', type);\n  var throttle = createThrottle(limit, logHandler);\n  var isCalculated = false;\n  var requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n    return throttle(function () {\n      return config;\n    })();\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  var responseInterceptorId = axiosInstance.interceptors.response.use(function (response) {\n    if (!isCalculated && isString(type) && (type === 'auto' || PERCENTAGE_REGEX.test(type)) && response.headers && response.headers['x-contentful-ratelimit-second-limit']) {\n      var rawLimit = parseInt(response.headers['x-contentful-ratelimit-second-limit']);\n      var nextLimit = calculateLimit(type, rawLimit);\n      if (nextLimit !== limit) {\n        if (requestInterceptorId) {\n          axiosInstance.interceptors.request.eject(requestInterceptorId);\n        }\n        limit = nextLimit;\n        throttle = createThrottle(nextLimit, logHandler);\n        requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n          return throttle(function () {\n            return config;\n          })();\n        }, function (error) {\n          return Promise.reject(error);\n        });\n      }\n      isCalculated = true;\n    }\n    return response;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  return function () {\n    axiosInstance.interceptors.request.eject(requestInterceptorId);\n    axiosInstance.interceptors.response.eject(responseInterceptorId);\n  };\n};\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\nvar defaultWait = function defaultWait(attempts) {\n  return Math.pow(Math.SQRT2, attempts);\n};\nfunction rateLimit(instance) {\n  var maxRetry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  var _instance$defaults = instance.defaults,\n    _instance$defaults$re = _instance$defaults.responseLogger,\n    responseLogger = _instance$defaults$re === void 0 ? noop : _instance$defaults$re,\n    _instance$defaults$re2 = _instance$defaults.requestLogger,\n    requestLogger = _instance$defaults$re2 === void 0 ? noop : _instance$defaults$re2;\n  instance.interceptors.request.use(function (config) {\n    requestLogger(config);\n    return config;\n  }, function (error) {\n    requestLogger(error);\n    return Promise.reject(error);\n  });\n  instance.interceptors.response.use(function (response) {\n    // we don't need to do anything here\n    responseLogger(response);\n    return response;\n  }, function (error) {\n    var response = error.response;\n    var config = error.config;\n    responseLogger(error);\n    // Do not retry if it is disabled or no request config exists (not an axios error)\n    if (!config || !instance.defaults.retryOnError) {\n      return Promise.reject(error);\n    }\n\n    // Retried already for max attempts\n    var doneAttempts = config.attempts || 1;\n    if (doneAttempts > maxRetry) {\n      error.attempts = config.attempts;\n      return Promise.reject(error);\n    }\n    var retryErrorType = null;\n    var wait = defaultWait(doneAttempts);\n\n    // Errors without response did not receive anything from the server\n    if (!response) {\n      retryErrorType = 'Connection';\n    } else if (response.status >= 500 && response.status < 600) {\n      // 5** errors are server related\n      retryErrorType = \"Server \".concat(response.status);\n    } else if (response.status === 429) {\n      // 429 errors are exceeded rate limit exceptions\n      retryErrorType = 'Rate limit';\n      // all headers are lowercased by axios https://github.com/mzabriskie/axios/issues/413\n      if (response.headers && error.response.headers['x-contentful-ratelimit-reset']) {\n        wait = response.headers['x-contentful-ratelimit-reset'];\n      }\n    }\n    if (retryErrorType) {\n      // convert to ms and add jitter\n      wait = Math.floor(wait * 1000 + Math.random() * 200 + 500);\n      instance.defaults.logHandler('warning', \"\".concat(retryErrorType, \" error occurred. Waiting for \").concat(wait, \" ms before retrying...\"));\n\n      // increase attempts counter\n      config.attempts = doneAttempts + 1;\n\n      /* Somehow between the interceptor and retrying the request the httpAgent/httpsAgent gets transformed from an Agent-like object\n       to a regular object, causing failures on retries after rate limits. Removing these properties here fixes the error, but retry\n       requests still use the original http/httpsAgent property */\n      delete config.httpAgent;\n      delete config.httpsAgent;\n      return delay(wait).then(function () {\n        return instance(config);\n      });\n    }\n    return Promise.reject(error);\n  });\n}\nfunction asyncToken(instance, getToken) {\n  instance.interceptors.request.use(function (config) {\n    return getToken().then(function (accessToken) {\n      config.headers = _objectSpread2(_objectSpread2({}, config.headers), {}, {\n        Authorization: \"Bearer \".concat(accessToken)\n      });\n      return config;\n    });\n  });\n}\n\n// Matches 'sub.host:port' or 'host:port' and extracts hostname and port\n// Also enforces toplevel domain specified, no spaces and no protocol\nvar HOST_REGEX = /^(?!\\w+:\\/\\/)([^\\s:]+\\.?[^\\s:]+)(?::(\\d+))?(?!:)$/;\n\n/**\n * Create pre configured axios instance\n * @private\n * @param {AxiosStatic} axios - Axios library\n * @param {CreateHttpClientParams} options - Initialization parameters for the HTTP client\n * @return {ContentfulAxiosInstance} Initialized axios instance\n */\nfunction createHttpClient(axios, options) {\n  var defaultConfig = {\n    insecure: false,\n    retryOnError: true,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logHandler: function logHandler(level, data) {\n      if (level === 'error' && data) {\n        var title = [data.name, data.message].filter(function (a) {\n          return a;\n        }).join(' - ');\n        console.error(\"[error] \".concat(title));\n        console.error(data);\n        return;\n      }\n      console.log(\"[\".concat(level, \"] \").concat(data));\n    },\n    // Passed to axios\n    headers: {},\n    httpAgent: false,\n    httpsAgent: false,\n    timeout: 30000,\n    throttle: 0,\n    proxy: false,\n    basePath: '',\n    adapter: undefined,\n    maxContentLength: 1073741824,\n    // 1GB\n    maxBodyLength: 1073741824 // 1GB\n  };\n\n  var config = _objectSpread2(_objectSpread2({}, defaultConfig), options);\n  if (!config.accessToken) {\n    var missingAccessTokenError = new TypeError('Expected parameter accessToken');\n    config.logHandler('error', missingAccessTokenError);\n    throw missingAccessTokenError;\n  }\n\n  // Construct axios baseURL option\n  var protocol = config.insecure ? 'http' : 'https';\n  var space = config.space ? \"\".concat(config.space, \"/\") : '';\n  var hostname = config.defaultHostname;\n  var port = config.insecure ? 80 : 443;\n  if (config.host && HOST_REGEX.test(config.host)) {\n    var parsed = config.host.split(':');\n    if (parsed.length === 2) {\n      var _parsed = _slicedToArray(parsed, 2);\n      hostname = _parsed[0];\n      port = _parsed[1];\n    } else {\n      hostname = parsed[0];\n    }\n  }\n\n  // Ensure that basePath does start but not end with a slash\n  if (config.basePath) {\n    config.basePath = \"/\".concat(config.basePath.split('/').filter(Boolean).join('/'));\n  }\n  var baseURL = options.baseURL || \"\".concat(protocol, \"://\").concat(hostname, \":\").concat(port).concat(config.basePath, \"/spaces/\").concat(space);\n  if (!config.headers.Authorization && typeof config.accessToken !== 'function') {\n    config.headers.Authorization = 'Bearer ' + config.accessToken;\n  }\n  var axiosOptions = {\n    // Axios\n    baseURL: baseURL,\n    headers: config.headers,\n    httpAgent: config.httpAgent,\n    httpsAgent: config.httpsAgent,\n    paramsSerializer: qs.stringify,\n    proxy: config.proxy,\n    timeout: config.timeout,\n    adapter: config.adapter,\n    maxContentLength: config.maxContentLength,\n    maxBodyLength: config.maxBodyLength,\n    // Contentful\n    logHandler: config.logHandler,\n    responseLogger: config.responseLogger,\n    requestLogger: config.requestLogger,\n    retryOnError: config.retryOnError\n  };\n  var instance = axios.create(axiosOptions);\n  instance.httpClientParams = options;\n\n  /**\n   * Creates a new axios instance with the same default base parameters as the\n   * current one, and with any overrides passed to the newParams object\n   * This is useful as the SDKs use dependency injection to get the axios library\n   * and the version of the library comes from different places depending\n   * on whether it's a browser build or a node.js build.\n   * @private\n   * @param {CreateHttpClientParams} httpClientParams - Initialization parameters for the HTTP client\n   * @return {ContentfulAxiosInstance} Initialized axios instance\n   */\n  instance.cloneWithNewParams = function (newParams) {\n    return createHttpClient(axios, _objectSpread2(_objectSpread2({}, copy(options)), newParams));\n  };\n\n  /**\n   * Apply interceptors.\n   * Please note that the order of interceptors is important\n   */\n\n  if (config.onBeforeRequest) {\n    instance.interceptors.request.use(config.onBeforeRequest);\n  }\n  if (typeof config.accessToken === 'function') {\n    asyncToken(instance, config.accessToken);\n  }\n  if (config.throttle) {\n    rateLimitThrottle(instance, config.throttle);\n  }\n  rateLimit(instance, config.retryLimit);\n  if (config.onError) {\n    instance.interceptors.response.use(function (response) {\n      return response;\n    }, config.onError);\n  }\n  return instance;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Creates request parameters configuration by parsing an existing query object\n * @private\n * @param {Object} query\n * @return {Object} Config object with `params` property, ready to be used in axios\n */\nfunction createRequestConfig(_ref) {\n  var query = _ref.query;\n  var config = {};\n  delete query.resolveLinks;\n  config.params = copy(query);\n  return config;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction enforceObjPath(obj, path) {\n  if (!(path in obj)) {\n    var err = new Error();\n    err.name = 'PropertyMissing';\n    err.message = \"Required property \".concat(path, \" missing from:\\n\\n\").concat(JSON.stringify(obj), \"\\n\\n\");\n    throw err;\n  }\n  return true;\n}\n\n// copied from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\nfunction deepFreeze(object) {\n  var propNames = Object.getOwnPropertyNames(object);\n  var _iterator = _createForOfIteratorHelper(propNames),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      var value = object[name];\n      if (value && _typeof(value) === 'object') {\n        deepFreeze(value);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Object.freeze(object);\n}\nfunction freezeSys(obj) {\n  deepFreeze(obj.sys || {});\n  return obj;\n}\nfunction getBrowserOS() {\n  var win = getWindow();\n  if (!win) {\n    return null;\n  }\n  var userAgent = win.navigator.userAgent;\n  // TODO: platform is deprecated.\n  var platform = win.navigator.platform;\n  var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  var windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  var iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    return 'macOS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    return 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    return 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    return 'Android';\n  } else if (/Linux/.test(platform)) {\n    return 'Linux';\n  }\n  return null;\n}\nfunction getNodeOS() {\n  var platform = process.platform || 'linux';\n  var version = process.version || '0.0.0';\n  var platformMap = {\n    android: 'Android',\n    aix: 'Linux',\n    darwin: 'macOS',\n    freebsd: 'Linux',\n    linux: 'Linux',\n    openbsd: 'Linux',\n    sunos: 'Linux',\n    win32: 'Windows'\n  };\n  if (platform in platformMap) {\n    return \"\".concat(platformMap[platform] || 'Linux', \"/\").concat(version);\n  }\n  return null;\n}\nfunction getUserAgentHeader(sdk, application, integration, feature) {\n  var headerParts = [];\n  if (application) {\n    headerParts.push(\"app \".concat(application));\n  }\n  if (integration) {\n    headerParts.push(\"integration \".concat(integration));\n  }\n  if (feature) {\n    headerParts.push('feature ' + feature);\n  }\n  headerParts.push(\"sdk \".concat(sdk));\n  var platform = null;\n  try {\n    if (isReactNative()) {\n      platform = getBrowserOS();\n      headerParts.push('platform ReactNative');\n    } else if (isNode()) {\n      platform = getNodeOS();\n      headerParts.push(\"platform node.js/\".concat(getNodeVersion()));\n    } else {\n      platform = getBrowserOS();\n      headerParts.push('platform browser');\n    }\n  } catch (e) {\n    platform = null;\n  }\n  if (platform) {\n    headerParts.push(\"os \".concat(platform));\n  }\n  return \"\".concat(headerParts.filter(function (item) {\n    return item !== '';\n  }).join('; '), \";\");\n}\n\n/**\n * Mixes in a method to return just a plain object with no additional methods\n * @private\n * @param data - Any plain JSON response returned from the API\n * @return Enhanced object with toPlainObject method\n */\nfunction toPlainObject(data) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  return Object.defineProperty(data, 'toPlainObject', {\n    enumerable: false,\n    configurable: false,\n    writable: false,\n    value: function value() {\n      return copy(this);\n    }\n  });\n}\n\n/**\n * Handles errors received from the server. Parses the error into a more useful\n * format, places it in an exception and throws it.\n * See https://www.contentful.com/developers/docs/references/errors/\n * for more details on the data received on the errorResponse.data property\n * and the expected error codes.\n * @private\n */\nfunction errorHandler(errorResponse) {\n  var config = errorResponse.config,\n    response = errorResponse.response;\n  var errorName;\n\n  // Obscure the Management token\n  if (config && config.headers && config.headers['Authorization']) {\n    var token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\n    config.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n  if (!isPlainObject(response) || !isPlainObject(config)) {\n    throw errorResponse;\n  }\n  var data = response === null || response === void 0 ? void 0 : response.data;\n  var errorData = {\n    status: response === null || response === void 0 ? void 0 : response.status,\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\n    message: '',\n    details: {}\n  };\n  if (isPlainObject(config)) {\n    errorData.request = {\n      url: config.url,\n      headers: config.headers,\n      method: config.method,\n      payloadData: config.data\n    };\n  }\n  if (data && isPlainObject(data)) {\n    if ('requestId' in data) {\n      errorData.requestId = data.requestId || 'UNKNOWN';\n    }\n    if ('message' in data) {\n      errorData.message = data.message || '';\n    }\n    if ('details' in data) {\n      errorData.details = data.details || {};\n    }\n    if ('sys' in data) {\n      if ('id' in data.sys) {\n        errorName = data.sys.id;\n      }\n    }\n  }\n  var error = new Error();\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\n  try {\n    error.message = JSON.stringify(errorData, null, '  ');\n  } catch (_unused) {\n    var _errorData$message;\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\n  }\n  throw error;\n}\nexport { createHttpClient, createRequestConfig, enforceObjPath, errorHandler, freezeSys, getUserAgentHeader, toPlainObject };","map":{"version":3,"names":["copy","qs","isString","pThrottle","isPlainObject","_iterableToArrayLimit","arr","i","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","push","value","length","err","return","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","constructor","prototype","_wrapRegExp","re","groups","BabelRegExp","_super","RegExp","_groups","WeakMap","flags","_this","set","get","_setPrototypeOf","buildGroups","result","g","reduce","name","k","create","_inherits","exec","str","indices","replace","substitution","_","group","Array","isArray","join","args","slice","_toPropertyKey","configurable","writable","subClass","superClass","TypeError","o","p","setPrototypeOf","bind","__proto__","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","n","toString","from","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","e","f","normalCompletion","didErr","step","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","String","Number","arg","isNode","process","browser","isReactNative","window","navigator","product","getNodeVersion","versions","node","concat","version","getWindow","noop","PERCENTAGE_REGEX","calculateLimit","type","max","limit","_type$match","match","percentage","parseInt","Math","round","min","createThrottle","logger","interval","strict","rateLimitThrottle","axiosInstance","_axiosInstance$defaul","defaults","logHandler","throttle","isCalculated","requestInterceptorId","interceptors","request","use","config","error","Promise","reject","responseInterceptorId","response","headers","rawLimit","nextLimit","eject","delay","ms","resolve","setTimeout","defaultWait","attempts","pow","SQRT2","rateLimit","instance","maxRetry","_instance$defaults","_instance$defaults$re","responseLogger","_instance$defaults$re2","requestLogger","retryOnError","doneAttempts","retryErrorType","wait","status","floor","random","httpAgent","httpsAgent","then","asyncToken","getToken","accessToken","Authorization","HOST_REGEX","createHttpClient","axios","options","defaultConfig","insecure","level","data","title","message","a","console","log","timeout","proxy","basePath","adapter","maxContentLength","maxBodyLength","missingAccessTokenError","protocol","space","hostname","defaultHostname","port","host","parsed","split","_parsed","Boolean","baseURL","axiosOptions","paramsSerializer","stringify","httpClientParams","cloneWithNewParams","newParams","onBeforeRequest","retryLimit","onError","createRequestConfig","_ref","query","resolveLinks","params","enforceObjPath","path","Error","JSON","deepFreeze","propNames","getOwnPropertyNames","_iterator","_step","freeze","freezeSys","sys","getBrowserOS","win","userAgent","platform","macosPlatforms","windowsPlatforms","iosPlatforms","indexOf","getNodeOS","platformMap","android","aix","darwin","freebsd","linux","openbsd","sunos","win32","getUserAgentHeader","sdk","application","integration","feature","headerParts","item","toPlainObject","errorHandler","errorResponse","errorName","token","substr","errorData","statusText","details","url","method","payloadData","requestId","id","_unused","_errorData$message"],"sources":["/Users/kietasbicas/Documents/learn web dev/react-augio-portfolio/node_modules/contentful-sdk-core/dist/index.es-modules.js"],"sourcesContent":["import copy from 'fast-copy';\nimport qs from 'qs';\nimport isString from 'lodash.isstring';\nimport pThrottle from 'p-throttle';\nimport isPlainObject from 'lodash.isplainobject';\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _wrapRegExp() {\n  _wrapRegExp = function (re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n  var _super = RegExp.prototype,\n    _groups = new WeakMap();\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n    return _groups.set(_this, groups || _groups.get(re)), _setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n    return Object.keys(g).reduce(function (groups, name) {\n      var i = g[name];\n      if (\"number\" == typeof i) groups[name] = result[i];else {\n        for (var k = 0; void 0 === result[i[k]] && k + 1 < i.length;) k++;\n        groups[name] = result[i[k]];\n      }\n      return groups;\n    }, Object.create(null));\n  }\n  return _inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n    if (result) {\n      result.groups = buildGroups(result, this);\n      var indices = result.indices;\n      indices && (indices.groups = buildGroups(indices, this));\n    }\n    return result;\n  }, BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        var group = groups[name];\n        return \"$\" + (Array.isArray(group) ? group.join(\"$\") : group);\n      }));\n    }\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != typeof args[args.length - 1] && (args = [].slice.call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n    return _super[Symbol.replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction isNode() {\n  /**\n   * Polyfills of 'process' might set process.browser === true\n   *\n   * See:\n   * https://github.com/webpack/node-libs-browser/blob/master/mock/process.js#L8\n   * https://github.com/defunctzombie/node-process/blob/master/browser.js#L156\n   **/\n  return typeof process !== 'undefined' && !process.browser;\n}\nfunction isReactNative() {\n  return typeof window !== 'undefined' && 'navigator' in window && 'product' in window.navigator && window.navigator.product === 'ReactNative';\n}\nfunction getNodeVersion() {\n  return process.versions && process.versions.node ? \"v\".concat(process.versions.node) : process.version;\n}\nfunction getWindow() {\n  return window;\n}\nfunction noop() {\n  return undefined;\n}\n\nvar PERCENTAGE_REGEX = /*#__PURE__*/_wrapRegExp(/(\\d+)(%)/, {\n  value: 1\n});\nfunction calculateLimit(type) {\n  var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;\n  var limit = max;\n  if (PERCENTAGE_REGEX.test(type)) {\n    var _type$match;\n    var groups = (_type$match = type.match(PERCENTAGE_REGEX)) === null || _type$match === void 0 ? void 0 : _type$match.groups;\n    if (groups && groups.value) {\n      var percentage = parseInt(groups.value) / 100;\n      limit = Math.round(max * percentage);\n    }\n  }\n  return Math.min(30, Math.max(1, limit));\n}\nfunction createThrottle(limit, logger) {\n  logger('info', \"Throttle request to \".concat(limit, \"/s\"));\n  return pThrottle({\n    limit: limit,\n    interval: 1000,\n    strict: false\n  });\n}\nvar rateLimitThrottle = (function (axiosInstance) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n  var _axiosInstance$defaul = axiosInstance.defaults.logHandler,\n    logHandler = _axiosInstance$defaul === void 0 ? noop : _axiosInstance$defaul;\n  var limit = isString(type) ? calculateLimit(type) : calculateLimit('auto', type);\n  var throttle = createThrottle(limit, logHandler);\n  var isCalculated = false;\n  var requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n    return throttle(function () {\n      return config;\n    })();\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  var responseInterceptorId = axiosInstance.interceptors.response.use(function (response) {\n    if (!isCalculated && isString(type) && (type === 'auto' || PERCENTAGE_REGEX.test(type)) && response.headers && response.headers['x-contentful-ratelimit-second-limit']) {\n      var rawLimit = parseInt(response.headers['x-contentful-ratelimit-second-limit']);\n      var nextLimit = calculateLimit(type, rawLimit);\n      if (nextLimit !== limit) {\n        if (requestInterceptorId) {\n          axiosInstance.interceptors.request.eject(requestInterceptorId);\n        }\n        limit = nextLimit;\n        throttle = createThrottle(nextLimit, logHandler);\n        requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n          return throttle(function () {\n            return config;\n          })();\n        }, function (error) {\n          return Promise.reject(error);\n        });\n      }\n      isCalculated = true;\n    }\n    return response;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  return function () {\n    axiosInstance.interceptors.request.eject(requestInterceptorId);\n    axiosInstance.interceptors.response.eject(responseInterceptorId);\n  };\n});\n\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\nvar defaultWait = function defaultWait(attempts) {\n  return Math.pow(Math.SQRT2, attempts);\n};\nfunction rateLimit(instance) {\n  var maxRetry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  var _instance$defaults = instance.defaults,\n    _instance$defaults$re = _instance$defaults.responseLogger,\n    responseLogger = _instance$defaults$re === void 0 ? noop : _instance$defaults$re,\n    _instance$defaults$re2 = _instance$defaults.requestLogger,\n    requestLogger = _instance$defaults$re2 === void 0 ? noop : _instance$defaults$re2;\n  instance.interceptors.request.use(function (config) {\n    requestLogger(config);\n    return config;\n  }, function (error) {\n    requestLogger(error);\n    return Promise.reject(error);\n  });\n  instance.interceptors.response.use(function (response) {\n    // we don't need to do anything here\n    responseLogger(response);\n    return response;\n  }, function (error) {\n    var response = error.response;\n    var config = error.config;\n    responseLogger(error);\n    // Do not retry if it is disabled or no request config exists (not an axios error)\n    if (!config || !instance.defaults.retryOnError) {\n      return Promise.reject(error);\n    }\n\n    // Retried already for max attempts\n    var doneAttempts = config.attempts || 1;\n    if (doneAttempts > maxRetry) {\n      error.attempts = config.attempts;\n      return Promise.reject(error);\n    }\n    var retryErrorType = null;\n    var wait = defaultWait(doneAttempts);\n\n    // Errors without response did not receive anything from the server\n    if (!response) {\n      retryErrorType = 'Connection';\n    } else if (response.status >= 500 && response.status < 600) {\n      // 5** errors are server related\n      retryErrorType = \"Server \".concat(response.status);\n    } else if (response.status === 429) {\n      // 429 errors are exceeded rate limit exceptions\n      retryErrorType = 'Rate limit';\n      // all headers are lowercased by axios https://github.com/mzabriskie/axios/issues/413\n      if (response.headers && error.response.headers['x-contentful-ratelimit-reset']) {\n        wait = response.headers['x-contentful-ratelimit-reset'];\n      }\n    }\n    if (retryErrorType) {\n      // convert to ms and add jitter\n      wait = Math.floor(wait * 1000 + Math.random() * 200 + 500);\n      instance.defaults.logHandler('warning', \"\".concat(retryErrorType, \" error occurred. Waiting for \").concat(wait, \" ms before retrying...\"));\n\n      // increase attempts counter\n      config.attempts = doneAttempts + 1;\n\n      /* Somehow between the interceptor and retrying the request the httpAgent/httpsAgent gets transformed from an Agent-like object\n       to a regular object, causing failures on retries after rate limits. Removing these properties here fixes the error, but retry\n       requests still use the original http/httpsAgent property */\n      delete config.httpAgent;\n      delete config.httpsAgent;\n      return delay(wait).then(function () {\n        return instance(config);\n      });\n    }\n    return Promise.reject(error);\n  });\n}\n\nfunction asyncToken(instance, getToken) {\n  instance.interceptors.request.use(function (config) {\n    return getToken().then(function (accessToken) {\n      config.headers = _objectSpread2(_objectSpread2({}, config.headers), {}, {\n        Authorization: \"Bearer \".concat(accessToken)\n      });\n      return config;\n    });\n  });\n}\n\n// Matches 'sub.host:port' or 'host:port' and extracts hostname and port\n// Also enforces toplevel domain specified, no spaces and no protocol\nvar HOST_REGEX = /^(?!\\w+:\\/\\/)([^\\s:]+\\.?[^\\s:]+)(?::(\\d+))?(?!:)$/;\n\n/**\n * Create pre configured axios instance\n * @private\n * @param {AxiosStatic} axios - Axios library\n * @param {CreateHttpClientParams} options - Initialization parameters for the HTTP client\n * @return {ContentfulAxiosInstance} Initialized axios instance\n */\nfunction createHttpClient(axios, options) {\n  var defaultConfig = {\n    insecure: false,\n    retryOnError: true,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logHandler: function logHandler(level, data) {\n      if (level === 'error' && data) {\n        var title = [data.name, data.message].filter(function (a) {\n          return a;\n        }).join(' - ');\n        console.error(\"[error] \".concat(title));\n        console.error(data);\n        return;\n      }\n      console.log(\"[\".concat(level, \"] \").concat(data));\n    },\n    // Passed to axios\n    headers: {},\n    httpAgent: false,\n    httpsAgent: false,\n    timeout: 30000,\n    throttle: 0,\n    proxy: false,\n    basePath: '',\n    adapter: undefined,\n    maxContentLength: 1073741824,\n    // 1GB\n    maxBodyLength: 1073741824 // 1GB\n  };\n\n  var config = _objectSpread2(_objectSpread2({}, defaultConfig), options);\n  if (!config.accessToken) {\n    var missingAccessTokenError = new TypeError('Expected parameter accessToken');\n    config.logHandler('error', missingAccessTokenError);\n    throw missingAccessTokenError;\n  }\n\n  // Construct axios baseURL option\n  var protocol = config.insecure ? 'http' : 'https';\n  var space = config.space ? \"\".concat(config.space, \"/\") : '';\n  var hostname = config.defaultHostname;\n  var port = config.insecure ? 80 : 443;\n  if (config.host && HOST_REGEX.test(config.host)) {\n    var parsed = config.host.split(':');\n    if (parsed.length === 2) {\n      var _parsed = _slicedToArray(parsed, 2);\n      hostname = _parsed[0];\n      port = _parsed[1];\n    } else {\n      hostname = parsed[0];\n    }\n  }\n\n  // Ensure that basePath does start but not end with a slash\n  if (config.basePath) {\n    config.basePath = \"/\".concat(config.basePath.split('/').filter(Boolean).join('/'));\n  }\n  var baseURL = options.baseURL || \"\".concat(protocol, \"://\").concat(hostname, \":\").concat(port).concat(config.basePath, \"/spaces/\").concat(space);\n  if (!config.headers.Authorization && typeof config.accessToken !== 'function') {\n    config.headers.Authorization = 'Bearer ' + config.accessToken;\n  }\n  var axiosOptions = {\n    // Axios\n    baseURL: baseURL,\n    headers: config.headers,\n    httpAgent: config.httpAgent,\n    httpsAgent: config.httpsAgent,\n    paramsSerializer: qs.stringify,\n    proxy: config.proxy,\n    timeout: config.timeout,\n    adapter: config.adapter,\n    maxContentLength: config.maxContentLength,\n    maxBodyLength: config.maxBodyLength,\n    // Contentful\n    logHandler: config.logHandler,\n    responseLogger: config.responseLogger,\n    requestLogger: config.requestLogger,\n    retryOnError: config.retryOnError\n  };\n  var instance = axios.create(axiosOptions);\n  instance.httpClientParams = options;\n\n  /**\n   * Creates a new axios instance with the same default base parameters as the\n   * current one, and with any overrides passed to the newParams object\n   * This is useful as the SDKs use dependency injection to get the axios library\n   * and the version of the library comes from different places depending\n   * on whether it's a browser build or a node.js build.\n   * @private\n   * @param {CreateHttpClientParams} httpClientParams - Initialization parameters for the HTTP client\n   * @return {ContentfulAxiosInstance} Initialized axios instance\n   */\n  instance.cloneWithNewParams = function (newParams) {\n    return createHttpClient(axios, _objectSpread2(_objectSpread2({}, copy(options)), newParams));\n  };\n\n  /**\n   * Apply interceptors.\n   * Please note that the order of interceptors is important\n   */\n\n  if (config.onBeforeRequest) {\n    instance.interceptors.request.use(config.onBeforeRequest);\n  }\n  if (typeof config.accessToken === 'function') {\n    asyncToken(instance, config.accessToken);\n  }\n  if (config.throttle) {\n    rateLimitThrottle(instance, config.throttle);\n  }\n  rateLimit(instance, config.retryLimit);\n  if (config.onError) {\n    instance.interceptors.response.use(function (response) {\n      return response;\n    }, config.onError);\n  }\n  return instance;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Creates request parameters configuration by parsing an existing query object\n * @private\n * @param {Object} query\n * @return {Object} Config object with `params` property, ready to be used in axios\n */\nfunction createRequestConfig(_ref) {\n  var query = _ref.query;\n  var config = {};\n  delete query.resolveLinks;\n  config.params = copy(query);\n  return config;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction enforceObjPath(obj, path) {\n  if (!(path in obj)) {\n    var err = new Error();\n    err.name = 'PropertyMissing';\n    err.message = \"Required property \".concat(path, \" missing from:\\n\\n\").concat(JSON.stringify(obj), \"\\n\\n\");\n    throw err;\n  }\n  return true;\n}\n\n// copied from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\nfunction deepFreeze(object) {\n  var propNames = Object.getOwnPropertyNames(object);\n  var _iterator = _createForOfIteratorHelper(propNames),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      var value = object[name];\n      if (value && _typeof(value) === 'object') {\n        deepFreeze(value);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Object.freeze(object);\n}\nfunction freezeSys(obj) {\n  deepFreeze(obj.sys || {});\n  return obj;\n}\n\nfunction getBrowserOS() {\n  var win = getWindow();\n  if (!win) {\n    return null;\n  }\n  var userAgent = win.navigator.userAgent;\n  // TODO: platform is deprecated.\n  var platform = win.navigator.platform;\n  var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  var windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  var iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    return 'macOS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    return 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    return 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    return 'Android';\n  } else if (/Linux/.test(platform)) {\n    return 'Linux';\n  }\n  return null;\n}\nfunction getNodeOS() {\n  var platform = process.platform || 'linux';\n  var version = process.version || '0.0.0';\n  var platformMap = {\n    android: 'Android',\n    aix: 'Linux',\n    darwin: 'macOS',\n    freebsd: 'Linux',\n    linux: 'Linux',\n    openbsd: 'Linux',\n    sunos: 'Linux',\n    win32: 'Windows'\n  };\n  if (platform in platformMap) {\n    return \"\".concat(platformMap[platform] || 'Linux', \"/\").concat(version);\n  }\n  return null;\n}\nfunction getUserAgentHeader(sdk, application, integration, feature) {\n  var headerParts = [];\n  if (application) {\n    headerParts.push(\"app \".concat(application));\n  }\n  if (integration) {\n    headerParts.push(\"integration \".concat(integration));\n  }\n  if (feature) {\n    headerParts.push('feature ' + feature);\n  }\n  headerParts.push(\"sdk \".concat(sdk));\n  var platform = null;\n  try {\n    if (isReactNative()) {\n      platform = getBrowserOS();\n      headerParts.push('platform ReactNative');\n    } else if (isNode()) {\n      platform = getNodeOS();\n      headerParts.push(\"platform node.js/\".concat(getNodeVersion()));\n    } else {\n      platform = getBrowserOS();\n      headerParts.push('platform browser');\n    }\n  } catch (e) {\n    platform = null;\n  }\n  if (platform) {\n    headerParts.push(\"os \".concat(platform));\n  }\n  return \"\".concat(headerParts.filter(function (item) {\n    return item !== '';\n  }).join('; '), \";\");\n}\n\n/**\n * Mixes in a method to return just a plain object with no additional methods\n * @private\n * @param data - Any plain JSON response returned from the API\n * @return Enhanced object with toPlainObject method\n */\nfunction toPlainObject(data) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  return Object.defineProperty(data, 'toPlainObject', {\n    enumerable: false,\n    configurable: false,\n    writable: false,\n    value: function value() {\n      return copy(this);\n    }\n  });\n}\n\n/**\n * Handles errors received from the server. Parses the error into a more useful\n * format, places it in an exception and throws it.\n * See https://www.contentful.com/developers/docs/references/errors/\n * for more details on the data received on the errorResponse.data property\n * and the expected error codes.\n * @private\n */\nfunction errorHandler(errorResponse) {\n  var config = errorResponse.config,\n    response = errorResponse.response;\n  var errorName;\n\n  // Obscure the Management token\n  if (config && config.headers && config.headers['Authorization']) {\n    var token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\n    config.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n  if (!isPlainObject(response) || !isPlainObject(config)) {\n    throw errorResponse;\n  }\n  var data = response === null || response === void 0 ? void 0 : response.data;\n  var errorData = {\n    status: response === null || response === void 0 ? void 0 : response.status,\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\n    message: '',\n    details: {}\n  };\n  if (isPlainObject(config)) {\n    errorData.request = {\n      url: config.url,\n      headers: config.headers,\n      method: config.method,\n      payloadData: config.data\n    };\n  }\n  if (data && isPlainObject(data)) {\n    if ('requestId' in data) {\n      errorData.requestId = data.requestId || 'UNKNOWN';\n    }\n    if ('message' in data) {\n      errorData.message = data.message || '';\n    }\n    if ('details' in data) {\n      errorData.details = data.details || {};\n    }\n    if ('sys' in data) {\n      if ('id' in data.sys) {\n        errorName = data.sys.id;\n      }\n    }\n  }\n  var error = new Error();\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\n  try {\n    error.message = JSON.stringify(errorData, null, '  ');\n  } catch (_unused) {\n    var _errorData$message;\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\n  }\n  throw error;\n}\n\nexport { createHttpClient, createRequestConfig, enforceObjPath, errorHandler, freezeSys, getUserAgentHeader, toPlainObject };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}