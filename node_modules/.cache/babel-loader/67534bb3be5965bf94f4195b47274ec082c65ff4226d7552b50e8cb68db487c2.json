{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\nimport copy from 'fast-copy';\nvar UNRESOLVED_LINK = {}; // unique object to avoid polyfill bloat using Symbol()\n\n/**\n * isLink Function\n * Checks if the object has sys.type \"Link\"\n * @param object\n */\nvar isLink = function isLink(object) {\n  return object && object.sys && object.sys.type === 'Link';\n};\n\n/**\n * isResourceLink Function\n * Checks if the object has sys.type \"ResourceLink\"\n * @param object\n */\nvar isResourceLink = function isResourceLink(object) {\n  return object && object.sys && object.sys.type === 'ResourceLink';\n};\n\n/**\n * Creates a key with spaceId and a key without for entityMap\n *\n * @param {*} sys\n * @param {String} sys.type\n * @param {String} sys.id\n * @param {*} sys.space\n * @param {*} sys.space.sys\n * @param {String} sys.space.id\n * @return {string[]}\n */\nvar makeEntityMapKeys = function makeEntityMapKeys(sys) {\n  return sys.space ? [sys.type + '!' + sys.id, sys.space.sys.id + '!' + sys.type + '!' + sys.id] : [sys.type + '!' + sys.id];\n};\n\n/**\n * Looks up in entityMap\n *\n * @param entityMap\n * @param {*} linkData\n * @param {String} linkData.type\n * @param {String} linkData.linkType\n * @param {String} linkData.id\n * @param {String} linkData.urn\n * @return {String}\n */\nvar lookupInEntityMap = function lookupInEntityMap(entityMap, linkData) {\n  var entryId = linkData.entryId,\n    linkType = linkData.linkType,\n    spaceId = linkData.spaceId;\n  if (spaceId) {\n    return entityMap.get(spaceId + '!' + linkType + '!' + entryId);\n  }\n  return entityMap.get(linkType + '!' + entryId);\n};\n\n/**\n * getResolvedLink Function\n *\n * @param entityMap\n * @param link\n * @return {undefined}\n */\nvar getResolvedLink = function getResolvedLink(entityMap, link) {\n  var _link$sys = link.sys,\n    type = _link$sys.type,\n    linkType = _link$sys.linkType;\n  if (type === 'ResourceLink') {\n    var urn = link.sys.urn;\n    var regExp = /.*:spaces\\/([A-Za-z0-9]*)\\/entries\\/([A-Za-z0-9]*)/;\n    if (!regExp.test(urn)) {\n      return UNRESOLVED_LINK;\n    }\n    var _urn$match = urn.match(regExp),\n      _urn$match2 = _slicedToArray(_urn$match, 3),\n      _ = _urn$match2[0],\n      spaceId = _urn$match2[1],\n      _entryId = _urn$match2[2];\n    var extractedLinkType = linkType.split(':')[1];\n    return lookupInEntityMap(entityMap, {\n      linkType: extractedLinkType,\n      entryId: _entryId,\n      spaceId: spaceId\n    }) || UNRESOLVED_LINK;\n  }\n  var entryId = link.sys.id;\n  return lookupInEntityMap(entityMap, {\n    linkType: linkType,\n    entryId: entryId\n  }) || UNRESOLVED_LINK;\n};\n\n/**\n * cleanUpLinks Function\n * - Removes unresolvable links from Arrays and Objects\n *\n * @param {Object[]|Object} input\n */\nvar cleanUpLinks = function cleanUpLinks(input) {\n  if (Array.isArray(input)) {\n    return input.filter(function (val) {\n      return val !== UNRESOLVED_LINK;\n    });\n  }\n  for (var key in input) {\n    if (input[key] === UNRESOLVED_LINK) {\n      delete input[key];\n    }\n  }\n  return input;\n};\n\n/**\n * walkMutate Function\n * @param input\n * @param predicate\n * @param mutator\n * @param removeUnresolved\n * @return {*}\n */\nvar walkMutate = function walkMutate(input, predicate, mutator, removeUnresolved) {\n  if (predicate(input)) {\n    return mutator(input);\n  }\n  if (input && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object') {\n    for (var key in input) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (input.hasOwnProperty(key)) {\n        input[key] = walkMutate(input[key], predicate, mutator, removeUnresolved);\n      }\n    }\n    if (removeUnresolved) {\n      input = cleanUpLinks(input);\n    }\n  }\n  return input;\n};\nvar normalizeLink = function normalizeLink(entityMap, link, removeUnresolved) {\n  var resolvedLink = getResolvedLink(entityMap, link);\n  if (resolvedLink === UNRESOLVED_LINK) {\n    return removeUnresolved ? resolvedLink : link;\n  }\n  return resolvedLink;\n};\nvar makeEntryObject = function makeEntryObject(item, itemEntryPoints) {\n  if (!Array.isArray(itemEntryPoints)) {\n    return item;\n  }\n  var entryPoints = Object.keys(item).filter(function (ownKey) {\n    return itemEntryPoints.indexOf(ownKey) !== -1;\n  });\n  return entryPoints.reduce(function (entryObj, entryPoint) {\n    entryObj[entryPoint] = item[entryPoint];\n    return entryObj;\n  }, {});\n};\n\n/**\n * resolveResponse Function\n * Resolves contentful response to normalized form.\n * @param {Object} response Contentful response\n * @param {{removeUnresolved: Boolean, itemEntryPoints: Array<String>}|{}} options\n * @param {Boolean} options.removeUnresolved - Remove unresolved links default:false\n * @param {Array<String>} options.itemEntryPoints - Resolve links only in those item properties\n * @return {Object}\n */\nvar resolveResponse = function resolveResponse(response, options) {\n  options = options || {};\n  if (!response.items) {\n    return [];\n  }\n  var responseClone = copy(response);\n  var allIncludes = Object.keys(responseClone.includes || {}).reduce(function (all, type) {\n    return [].concat(_toConsumableArray(all), _toConsumableArray(response.includes[type]));\n  }, []);\n  var allEntries = [].concat(_toConsumableArray(responseClone.items), _toConsumableArray(allIncludes));\n  var entityMap = new Map(allEntries.reduce(function (acc, entity) {\n    var entries = makeEntityMapKeys(entity.sys).map(function (key) {\n      return [key, entity];\n    });\n    acc.push.apply(acc, _toConsumableArray(entries));\n    return acc;\n  }, []));\n  allEntries.forEach(function (item) {\n    var entryObject = makeEntryObject(item, options.itemEntryPoints);\n    Object.assign(item, walkMutate(entryObject, function (x) {\n      return isLink(x) || isResourceLink(x);\n    }, function (link) {\n      return normalizeLink(entityMap, link, options.removeUnresolved);\n    }, options.removeUnresolved));\n  });\n  return responseClone.items;\n};\nexport default resolveResponse;","map":{"version":3,"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","_toConsumableArray","arr2","from","copy","UNRESOLVED_LINK","isLink","object","sys","type","isResourceLink","makeEntityMapKeys","space","id","lookupInEntityMap","entityMap","linkData","entryId","linkType","spaceId","get","getResolvedLink","link","_link$sys","urn","regExp","test","_urn$match","match","_urn$match2","_","_entryId","extractedLinkType","split","cleanUpLinks","input","filter","val","key","walkMutate","predicate","mutator","removeUnresolved","hasOwnProperty","normalizeLink","resolvedLink","makeEntryObject","item","itemEntryPoints","entryPoints","keys","ownKey","indexOf","reduce","entryObj","entryPoint","resolveResponse","response","options","items","responseClone","allIncludes","includes","all","concat","allEntries","Map","acc","entity","entries","map","apply","forEach","entryObject","assign","x"],"sources":["/Users/kietasbicas/Documents/learn web dev/react-augio-portfolio/node_modules/contentful-resolve-response/dist/esm/index.js"],"sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport copy from 'fast-copy';\n\nvar UNRESOLVED_LINK = {}; // unique object to avoid polyfill bloat using Symbol()\n\n/**\n * isLink Function\n * Checks if the object has sys.type \"Link\"\n * @param object\n */\nvar isLink = function isLink(object) {\n  return object && object.sys && object.sys.type === 'Link';\n};\n\n/**\n * isResourceLink Function\n * Checks if the object has sys.type \"ResourceLink\"\n * @param object\n */\nvar isResourceLink = function isResourceLink(object) {\n  return object && object.sys && object.sys.type === 'ResourceLink';\n};\n\n/**\n * Creates a key with spaceId and a key without for entityMap\n *\n * @param {*} sys\n * @param {String} sys.type\n * @param {String} sys.id\n * @param {*} sys.space\n * @param {*} sys.space.sys\n * @param {String} sys.space.id\n * @return {string[]}\n */\nvar makeEntityMapKeys = function makeEntityMapKeys(sys) {\n  return sys.space ? [sys.type + '!' + sys.id, sys.space.sys.id + '!' + sys.type + '!' + sys.id] : [sys.type + '!' + sys.id];\n};\n\n/**\n * Looks up in entityMap\n *\n * @param entityMap\n * @param {*} linkData\n * @param {String} linkData.type\n * @param {String} linkData.linkType\n * @param {String} linkData.id\n * @param {String} linkData.urn\n * @return {String}\n */\nvar lookupInEntityMap = function lookupInEntityMap(entityMap, linkData) {\n  var entryId = linkData.entryId,\n      linkType = linkData.linkType,\n      spaceId = linkData.spaceId;\n\n  if (spaceId) {\n    return entityMap.get(spaceId + '!' + linkType + '!' + entryId);\n  }\n  return entityMap.get(linkType + '!' + entryId);\n};\n\n/**\n * getResolvedLink Function\n *\n * @param entityMap\n * @param link\n * @return {undefined}\n */\nvar getResolvedLink = function getResolvedLink(entityMap, link) {\n  var _link$sys = link.sys,\n      type = _link$sys.type,\n      linkType = _link$sys.linkType;\n\n  if (type === 'ResourceLink') {\n    var urn = link.sys.urn;\n\n    var regExp = /.*:spaces\\/([A-Za-z0-9]*)\\/entries\\/([A-Za-z0-9]*)/;\n    if (!regExp.test(urn)) {\n      return UNRESOLVED_LINK;\n    }\n\n    var _urn$match = urn.match(regExp),\n        _urn$match2 = _slicedToArray(_urn$match, 3),\n        _ = _urn$match2[0],\n        spaceId = _urn$match2[1],\n        _entryId = _urn$match2[2];\n\n    var extractedLinkType = linkType.split(':')[1];\n    return lookupInEntityMap(entityMap, { linkType: extractedLinkType, entryId: _entryId, spaceId: spaceId }) || UNRESOLVED_LINK;\n  }\n  var entryId = link.sys.id;\n\n  return lookupInEntityMap(entityMap, { linkType: linkType, entryId: entryId }) || UNRESOLVED_LINK;\n};\n\n/**\n * cleanUpLinks Function\n * - Removes unresolvable links from Arrays and Objects\n *\n * @param {Object[]|Object} input\n */\nvar cleanUpLinks = function cleanUpLinks(input) {\n  if (Array.isArray(input)) {\n    return input.filter(function (val) {\n      return val !== UNRESOLVED_LINK;\n    });\n  }\n  for (var key in input) {\n    if (input[key] === UNRESOLVED_LINK) {\n      delete input[key];\n    }\n  }\n  return input;\n};\n\n/**\n * walkMutate Function\n * @param input\n * @param predicate\n * @param mutator\n * @param removeUnresolved\n * @return {*}\n */\nvar walkMutate = function walkMutate(input, predicate, mutator, removeUnresolved) {\n  if (predicate(input)) {\n    return mutator(input);\n  }\n\n  if (input && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object') {\n    for (var key in input) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (input.hasOwnProperty(key)) {\n        input[key] = walkMutate(input[key], predicate, mutator, removeUnresolved);\n      }\n    }\n    if (removeUnresolved) {\n      input = cleanUpLinks(input);\n    }\n  }\n  return input;\n};\n\nvar normalizeLink = function normalizeLink(entityMap, link, removeUnresolved) {\n  var resolvedLink = getResolvedLink(entityMap, link);\n  if (resolvedLink === UNRESOLVED_LINK) {\n    return removeUnresolved ? resolvedLink : link;\n  }\n  return resolvedLink;\n};\n\nvar makeEntryObject = function makeEntryObject(item, itemEntryPoints) {\n  if (!Array.isArray(itemEntryPoints)) {\n    return item;\n  }\n\n  var entryPoints = Object.keys(item).filter(function (ownKey) {\n    return itemEntryPoints.indexOf(ownKey) !== -1;\n  });\n\n  return entryPoints.reduce(function (entryObj, entryPoint) {\n    entryObj[entryPoint] = item[entryPoint];\n    return entryObj;\n  }, {});\n};\n\n/**\n * resolveResponse Function\n * Resolves contentful response to normalized form.\n * @param {Object} response Contentful response\n * @param {{removeUnresolved: Boolean, itemEntryPoints: Array<String>}|{}} options\n * @param {Boolean} options.removeUnresolved - Remove unresolved links default:false\n * @param {Array<String>} options.itemEntryPoints - Resolve links only in those item properties\n * @return {Object}\n */\nvar resolveResponse = function resolveResponse(response, options) {\n  options = options || {};\n  if (!response.items) {\n    return [];\n  }\n  var responseClone = copy(response);\n  var allIncludes = Object.keys(responseClone.includes || {}).reduce(function (all, type) {\n    return [].concat(_toConsumableArray(all), _toConsumableArray(response.includes[type]));\n  }, []);\n\n  var allEntries = [].concat(_toConsumableArray(responseClone.items), _toConsumableArray(allIncludes));\n\n  var entityMap = new Map(allEntries.reduce(function (acc, entity) {\n    var entries = makeEntityMapKeys(entity.sys).map(function (key) {\n      return [key, entity];\n    });\n    acc.push.apply(acc, _toConsumableArray(entries));\n    return acc;\n  }, []));\n\n  allEntries.forEach(function (item) {\n    var entryObject = makeEntryObject(item, options.itemEntryPoints);\n\n    Object.assign(item, walkMutate(entryObject, function (x) {\n      return isLink(x) || isResourceLink(x);\n    }, function (link) {\n      return normalizeLink(entityMap, link, options.removeUnresolved);\n    }, options.removeUnresolved));\n  });\n\n  return responseClone.items;\n};\n\nexport default resolveResponse;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}